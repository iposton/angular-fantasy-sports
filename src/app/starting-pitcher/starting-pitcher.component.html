<h1 class="center date-header baseball-header"> MLB Today's Starting Pitchers</h1>
<h1 class="center date-header baseball-header"> {{ gameDate | date:'fullDate' }}</h1>
<div class="center">
  <mat-form-field color="accent">
  <input matInput [matDatepicker]="picker" placeholder="Choose a date">
  <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
  <mat-datepicker #picker></mat-datepicker>
</mat-form-field>
</div>

<div class="spinner-msg" *ngIf="loading">
  Retrieving pitching data...
  <mat-spinner></mat-spinner>
</div>
<div *ngIf="errMessage" class="err center">
     <h1><strong>Error: </strong> {{ errMessage }}</h1>
</div>
<div *ngIf="showData != null">
  <div class="card-wrap-sp mat-elevation-z6 tp-wrap" *ngFor="let data of showData | orderBy: 'gameId'" [class.hide]="data.playerNotPlayingYet === false">
    <mat-card class="tp-box mat-card-sp" [@flipState]="data.flip">
      <div *ngIf="data.flip === 'inactive'" class="ribbon"><span>{{data.team.abbreviation}}</span></div>
      <div class="tp-box__side tp-box__front">
        <div class="content-wrapper">
          <div class="left-content">
            <img src="{{data.player.image}}" alt="baseball player" onError="this.src='http://mlb.mlb.com/images/players/silhouettes/generic_mug@2x.png'">
          </div>
          <div class="right-content">
            <p>
              <span *ngIf="data.player.IsRookie == 'true'" style="background:#2ecc71; color:#fff; padding:1px; border-radius:2px;">Rookie  <br></span>
             
              <span *ngIf="data.player.age != null"> Age: {{data.player.age}} Height: {{data.player.height}} Weight: {{data.player.weight}}  <br> </span>
             <span *ngIf="data.player.city != null">Born: {{data.player.birthDate | date: 'shortDate'}} <span *ngIf="data.player.country === 'USA'">{{data.player.city}}</span><span *ngIf="data.player.country != 'USA'">{{data.player.country}}</span>  <br> </span>
             Opponent: <span *ngIf="data.team.opponent;then content else other_content"></span>
              <ng-template #content>{{data.team.opponent}}</ng-template>
              <ng-template #other_content>No game today.</ng-template>
              <br>SP Opponent: {{data.player.pitchingOpponent}}
              <span *ngIf="data.team.opponent"><br>Game: {{data.player.gameTime | date: 'shortTime'}} EST, {{data.team.gameField}} </span>
            <!--   <br> in progress: {{data.playingRightNow}}
              <br> game over: {{data.playingOver}}
              <br> game id: {{data.gameId}} -->
            </p>
          </div>
        </div>
        <div class="bottom-content">
          <!-- <img src="./assets/mlb-logos/{{data.team.id}}.png" alt="mlb team logo"> -->
          <p class="name-number">{{ data.player.firstName + ' ' + data.player.lastName}}<span *ngIf="data.player.throws != null"> - {{data.player.throws}}</span> - SP | #{{data.player.jerseyNumber}}</p>
          <p class="name-number">
            <b>W-L:</b> {{ data.stats.pitching.wins +'-'+ data.stats.pitching.losses }} / <b>ERA:</b> {{ data.stats.pitching.earnedRunAvg }} /
            <b>K's:</b> {{ data.stats.pitching.pitcherStrikeouts }}
          </p>
          <div *ngIf="data.player.favPitchPercent != null" class="fav-pitch">
            <p *ngIf="data.player.favPitch == data.stats.pitching.pitcher2SeamFastballs">Throws 2-Seam Fastball {{data.player.favPitchPercent}}%.</p>
            <p *ngIf="data.player.favPitch == data.stats.pitching.pitcher4SeamFastballs">Throws 4-Seam Fastball {{data.player.favPitchPercent}}%.</p>
            <p *ngIf="data.player.favPitch == data.stats.pitching.pitcherChangeups">Throws Changeup {{data.player.favPitchPercent}}%.</p>
            <p *ngIf="data.player.favPitch == data.stats.pitching.pitcherCurveballs">Throws Curveball {{data.player.favPitchPercent}}%.</p>
            <p *ngIf="data.player.favPitch == data.stats.pitching.pitcherCutters">Throws Cutter {{data.player.favPitchPercent}}%.</p>
            <p *ngIf="data.player.favPitch == data.stats.pitching.pitcherSliders">Throws Slider {{data.player.favPitchPercent}}%.</p>
            <p *ngIf="data.player.favPitch == data.stats.pitching.pitcherSinkers">Throws Sinker {{data.player.favPitchPercent}}%.</p>
            <p *ngIf="data.player.favPitch == data.stats.pitching.pitcherSplitters">Throws Splitter {{data.player.favPitchPercent}}%.</p>
            <br>
            <a class="more-stats-btn" (click)="getPreviousGameStats(data)">MORE STATS</a>
          </div>
          <div *ngIf="data.firstStart != null" class="fav-pitch">
          <p>{{data.firstStart}}</p>
            <br>
            <a class="more-stats-btn" (click)="getGameStats(data)">MORE STATS</a>
          </div>
          <div *ngIf="data.player.pitchSpeedAvg != null" class="fav-pitch">
            <p>Avg pitch speed {{data.player.pitchSpeedAvg}}mph</p>
          </div>
           <div *ngIf="data.player.pitchSpeedAvg == null" class="fav-pitch">
            <p>Avg pitch speed not known</p>
          </div>
          <div *ngIf="data.player.fastestPitch != null" class="fav-pitch">
            <p>Top pitch speed {{data.player.fastestPitch}}mph</p>
          </div>
           <div *ngIf="data.player.fastestPitch == null" class="fav-pitch">
              <p>Top pitch speed not known</p>
            </div>
        </div>
      </div>  <!-- FRONT OF CARD -->
     
      <!-- SCORE BACK OF CARD -->
      <div class="tp-box__side tp-box__back">
        <a class="go-back-btn" (click)="flipBack(data)">GO BACK</a>
          <div class="content-wrapper">
          <div class="left-content">
            <img src="{{data.player.image}}" alt="baseball player" onError="this.src='http://mlb.mlb.com/images/players/silhouettes/generic_mug@2x.png'">
          </div>
          <div class="right-content">
            <p>
              <span *ngIf="data.player.IsRookie == 'true'" style="background:#2ecc71; color:#fff; padding:1px; border-radius:2px;">Rookie</span>
              <span *ngIf="data.player.contractStartYear === '2018' && data.player.contractTotalYears === '1'" style="background:#2ecc71; color:#fff; padding:1px; border-radius:2px;">Contract Year<br></span>
              <span *ngIf="data.player.contractBaseSalary !== undefined && data.player.contractBaseSalary != ''">Contract Salary: ${{data.player.contractBaseSalary | number:'.2'}} <br></span>
              <span *ngIf="data.player.contractTotalYears !== undefined && data.player.contractTotalYears != ''">Contract Years:  {{data.player.contractTotalYears}}<br></span> 
              <span *ngIf="data.player.DraftYear !== undefined && data.player.DraftYear != ''">Drafted: Round {{data.player.DraftRound}}, {{data.player.DraftYear}}<br></span>
              <span *ngIf="data.player.college !== undefined && data.player.college != ''">College: {{data.player.college}}<br></span> 
              <span *ngIf="data.player.highschool !== undefined && data.player.highschool != ''">Highschool: {{data.player.highschool}} <br></span>
              Opponent: <span *ngIf="data.team.opponent;then content else other_content"></span>
              <ng-template #content>{{data.team.opponent}}</ng-template>
              <ng-template #other_content>No game today.</ng-template>
              <br>SP Opponent: {{data.player.pitchingOpponent}}
              <span *ngIf="data.team.opponent"><br>Game: {{data.player.gameTime | date: 'shortTime'}} EST, {{data.team.gameField}} </span>
              <!-- <br> in progress: {{data.playingRightNow}} -->
              <!-- <br> game over: {{data.playingOver}} -->
              <!-- <br> game id: {{data.gameId}} -->
            </p>
          </div>
        </div>
        <div class="bottom-content">
          <!-- <img src="./assets/mlb-logos/{{data.team.id}}.png" alt="mlb team logo"> -->
          <p class="name-number">{{ data.player.firstName + ' ' + data.player.lastName}}<span *ngIf="data.player.throws != null"> - {{data.player.throws}}</span> - SP | #{{data.player.jerseyNumber}}</p>
          <p class="name-number">
           <span *ngIf="data.previousWin1 != null && data.previousWin2 === undefined"><strong>W-L:</strong> {{data.previousWin1}}-</span><span *ngIf="data.previousL1 != null && data.previousL2 === undefined">{{data.previousL1}}</span><span *ngIf="data.previousWin1 != null && data.previousWin2 != null"><strong>W-L:</strong> {{data.previousWin1 + data.previousWin2}}-</span><span *ngIf="data.previousL1 != null && data.previousL2 != null">{{data.previousL1 + data.previousL2}}</span><span *ngIf="data.previousEra1 != null && data.previousEra2 === undefined"> / <strong>ERA:</strong> {{ data.previousEra1 }} / </span><span *ngIf="data.previousEra1 != null && data.previousEra2 != null"> / <strong>ERA:</strong> {{ (data.previousEra1 + data.previousEra2) / 2 | number:'1.2-2' }} / </span> 
           <span *ngIf="data.previousSO1 != null && data.previousSO2 === undefined"><strong>K's:</strong> {{ data.previousSO1 }}</span><span *ngIf="data.previousSO1 != null && data.previousSO2 != null"><strong>K's:</strong> {{ data.previousSO1 + data.previousSO2 }}</span>
          
          </p>
         
          <div class="fav-pitch previous-game-stat-block"> 
            <p class="previous-header">
            <span *ngIf="data.pgBlurb1 == null && loadingPrevious === false">Previous game stats are unavailable :( </span> 
            <span *ngIf="data.pgBlurb1 != null">Previous game stats</span> </p> 
            <p class="previous-p"><span *ngIf="data.pgBlurb1 != null">{{data.pgBlurb1}} <br> </span>
            <span *ngIf="data.pgBlurb2 != null">{{data.pgBlurb2}} <br> </span> 
            <span *ngIf="data.homeruns1 != null && data.homeruns2 === undefined">Homeruns given up: {{data.homeruns1}}<br></span>
            <span *ngIf="data.homeruns2 != null && data.homeruns1 === undefined">Homeruns given up: {{data.homeruns2}}<br></span>
            <span *ngIf="data.homeruns1 != null && data.homeruns2 != null">Homeruns given up: {{data.homeruns1 + data.homeruns2}}<br></span>
            <span *ngIf="data.walks1 != null && data.walks2 === undefined">Walks allowed: {{data.walks1}}</span>
            <span *ngIf="data.walks2 != null && data.walks1 === undefined">Walks allowed: {{data.walks2}}</span>
            <span *ngIf="data.walks1 != null && data.walks2 != null">Walks allowed: {{data.walks1 + data.walks2}}</span>

           </p>
          </div>
         
        </div>
        <div *ngIf="data.player.gameLocation === 'home'" class="content-wrapper-teams">
         <div class="left-content-teams"><img src="./assets/mlb-logos/{{data.team.opponentId}}.png" alt="mlb team logo"></div>
         <div class="middle-content-teams">@</div>
          <div class="right-content-teams"><img src="./assets/mlb-logos/{{data.team.id}}.png" alt="mlb team logo"></div>
        </div>
        <div *ngIf="data.player.gameLocation === 'away'" class="content-wrapper-teams">
         <div class="left-content-teams"><img src="./assets/mlb-logos/{{data.team.id}}.png" alt="mlb team logo"></div>
         <div class="middle-content-teams">@</div>
          <div class="right-content-teams"><img src="./assets/mlb-logos/{{data.team.opponentId}}.png" alt="mlb team logo"></div>
        </div>
         
      </div> <!-- SCORE BACK OF CARD  -->
    </mat-card>
  </div>
  <div *ngIf="liveGames === true">
    <hr>
    <h3 class="center">Live Games</h3>
    <div class="card-wrap-sp mat-elevation-z6 tp-wrap" *ngFor="let data of showData" [class.hide]="data.playingRightNow === false">
      <mat-card class="tp-box mat-card-sp" [@flipState]="data.flip">
        <div *ngIf="data.flip === 'inactive'" class="ribbon"><span>{{data.team.abbreviation}}</span></div>
        <div class="tp-box__side tp-box__front">
          <div class="content-wrapper">
            <div class="left-content">
              <img src="{{data.player.image}}" alt="baseball player" onError="this.src='http://mlb.mlb.com/images/players/silhouettes/generic_mug@2x.png'">
            </div>
            <div class="right-content">
              <p>
                <span *ngIf="data.player.IsRookie == 'true'" style="background:#2ecc71; color:#fff; padding:1px; border-radius:2px;">Rookie</span>
                <br>
                <span *ngIf="data.player.age != null"> Age: {{data.player.age}} Height: {{data.player.height}} Weight: {{data.player.weight}}</span>
                <br> <span *ngIf="data.player.city != null">Born: {{data.player.birthDate | date: 'shortDate'}} <span *ngIf="data.player.country === 'USA'">{{data.player.city}}</span><span *ngIf="data.player.country != 'USA'">{{data.player.country}}</span></span>
                <br> Opponent: <span *ngIf="data.team.opponent;then content else other_content"></span>
                <ng-template #content>{{data.team.opponent}}</ng-template>
                <ng-template #other_content>No game today.</ng-template>
                <br>SP Opponent: {{data.player.pitchingOpponent}}
                <span *ngIf="data.team.opponent"><br>Game: {{data.player.gameTime | date: 'shortTime'}} EST, {{data.team.gameField}} </span>
                <!-- <br> in progress: {{data.playingRightNow}}
                <br> game over: {{data.playingOver}} -->
               <!--  <br> game id: {{data.gameId}} -->           </p>
            </div>
          </div>
          <div class="bottom-content">
            <!-- <img src="./assets/mlb-logos/{{data.team.id}}.png" alt="mlb team logo"> -->
            <p class="name-number">{{ data.player.firstName + ' ' + data.player.lastName}}<span *ngIf="data.player.throws != null"> - {{data.player.throws}}</span> - SP | #{{data.player.jerseyNumber}}</p>
            <p class="name-number">
              <b>W-L:</b> {{ data.stats.pitching.wins +'-'+ data.stats.pitching.losses }} / <b>ERA:</b> {{ data.stats.pitching.earnedRunAvg }} /
              <b>K's:</b> {{ data.stats.pitching.pitcherStrikeouts }}
            </p>
            <div class="fav-pitch live-pitch" *ngIf="data.player.winToday == '0' && data.player.saveToday == '0' && data.player.loseToday == '0'">
              (live stats) Game Time: {{data.player.gameTime | date: 'shortTime'}} EST <span *ngIf="data.player.gameLocation === 'away'">@{{data.team.opponentCity}}</span>
              <br>
              <br> {{ data.player.firstName + ' ' + data.player.lastName}} pitched
              <div *ngIf="data.player.inningsToday === '1.0';then pt else other_pt"></div>
              <ng-template #pt>1 inning</ng-template>
              <ng-template #other_pt>{{data.player.inningsToday}} innings</ng-template>, {{data.player.strikeoutsToday}}
              <div *ngIf="data.player.strikeoutsToday === '1';then k else other_k"></div>
              <ng-template #k>strikeout</ng-template>
              <ng-template #other_k>strikeouts</ng-template> and gave up {{data.player.earnedrunsToday}}
              <div *ngIf="data.player.earnedrunsToday === '1';then r else other_r"></div>
              <ng-template #r>run</ng-template>
              <ng-template #other_r>runs</ng-template> today!
              <br>
              <a class="more-stats-btn" (click)="getGameStats(data)">MORE STATS</a>
            </div>
            <div *ngIf="data.player.favPitchPercent != null" class="fav-pitch">
              <p *ngIf="data.player.favPitch == data.stats.pitching.pitcher2SeamFastballs">Throws 2-Seam Fastball {{data.player.favPitchPercent}}%</p>
              <p *ngIf="data.player.favPitch == data.stats.pitching.pitcher4SeamFastballs">Throws 4-Seam Fastball {{data.player.favPitchPercent}}%</p>
              <p *ngIf="data.player.favPitch == data.stats.pitching.pitcherChangeups">Throws Changeup {{data.player.favPitchPercent}}%</p>
              <p *ngIf="data.player.favPitch == data.stats.pitching.pitcherCurveballs">Throws Curveball {{data.player.favPitchPercent}}%</p>
              <p *ngIf="data.player.favPitch == data.stats.pitching.pitcherCutters">Throws Cutter {{data.player.favPitchPercent}}%</p>
              <p *ngIf="data.player.favPitch == data.stats.pitching.pitcherSliders">Throws Slider {{data.player.favPitchPercent}}%</p>
              <p *ngIf="data.player.favPitch == data.stats.pitching.pitcherSinkers">Throws Sinker {{data.player.favPitchPercent}}%</p>
              <p *ngIf="data.player.favPitch == data.stats.pitching.pitcherSplitters">Throws Splitter {{data.player.favPitchPercent}}%</p>
            </div>
            <div *ngIf="data.player.pitchSpeedAvg != null" class="fav-pitch">
              <p>Avg pitch speed {{data.player.pitchSpeedAvg}}mph</p>
            </div>
             <div *ngIf="data.player.pitchSpeedAvg == null" class="fav-pitch">
            <p>Avg pitch speed not known</p>
          </div>
            <div *ngIf="data.player.fastestPitch != null" class="fav-pitch">
              <p>Top pitch speed {{data.player.fastestPitch}}mph</p>
            </div>
             <div *ngIf="data.player.fastestPitch == null" class="fav-pitch">
              <p>Top pitch speed not known</p>
            </div>
          </div>
        </div>
        <!-- FRONT OF CARD -->
     <!-- SCORE BACK OF CARD -->
      <div class="tp-box__side tp-box__back">
          <div class="content-wrapper">
          <div class="left-content">
            <img src="{{data.player.image}}" alt="baseball player" onError="this.src='http://mlb.mlb.com/images/players/silhouettes/generic_mug@2x.png'">
          </div>
          <div class="right-content">
            <p>
              <span *ngIf="data.player.IsRookie == 'true'" style="background:#2ecc71; color:#fff; padding:1px; border-radius:2px;">Rookie</span>
              <span *ngIf="data.player.contractStartYear === '2018' && data.player.contractTotalYears === '1'" style="background:#2ecc71; color:#fff; padding:1px; border-radius:2px;">Contract Year<br></span>
              <span *ngIf="data.player.contractBaseSalary != ''">Contract Salary: ${{data.player.contractBaseSalary | number:'.2'}} <br></span>
              <span *ngIf="data.player.contractTotalYears != ''">Contract Years:  {{data.player.contractTotalYears}}<br></span> 
              <span *ngIf="data.player.DraftYear != ''">Drafted: Round {{data.player.DraftRound}}, {{data.player.DraftYear}}<br></span>
              <span *ngIf="data.player.college != ''">College: {{data.player.college}}<br></span> 
              <span *ngIf="data.player.highschool != ''">Highschool: {{data.player.highschool}} <br></span>
              Opponent: <span *ngIf="data.team.opponent;then content else other_content"></span>
              <ng-template #content>{{data.team.opponent}}</ng-template>
              <ng-template #other_content>No game today.</ng-template>
              <br>SP Opponent: {{data.player.pitchingOpponent}}
              <span *ngIf="data.team.opponent"><br>Game: {{data.player.gameTime | date: 'shortTime'}} EST, {{data.team.gameField}} </span>
              <!-- <br> in progress: {{data.playingRightNow}} -->
              <!-- <br> game over: {{data.playingOver}} -->
              <!-- <br> game id: {{data.gameId}} -->
            </p>
          </div>
        </div>
        <div class="bottom-content">
          <!-- <img src="./assets/mlb-logos/{{data.team.id}}.png" alt="mlb team logo"> -->
          <p class="name-number">{{ data.player.firstName + ' ' + data.player.lastName}}<span *ngIf="data.player.throws != null"> - {{data.player.throws}}</span> - SP | #{{data.player.jerseyNumber}}</p>
          <p class="name-number">
            <span  *ngIf="data.player.winToday === '1'"><b>W</b></span>
            <span  *ngIf="data.player.loseToday === '1'"><b>L</b></span>
            
            <b>ERA:</b> {{ data.player.eraToday }} /
            <b>K's:</b> {{ data.player.strikeoutsToday }} <br>
            <a class="more-stats-btn" (click)="flipBack(data)">GO BACK</a>
          </p>
         <!--  <div class="fav-pitch live-stats-block">
            <p>score, inning top bottom, whos on base, no decision stuff...</p>
          </div> -->
          <div *ngIf="data.player.favPitchPercentToday != null" class="fav-pitch">
            <p *ngIf="data.player.favPitchToday == data.stats.pitching.pitcher2SeamFastballsToday">Throwing 2-Seam Fastball {{data.player.favPitchPercentToday}}%.</p>
            <p *ngIf="data.player.favPitchToday == data.stats.pitching.pitcher4SeamFastballsToday">Throwing 4-Seam Fastball {{data.player.favPitchPercentToday}}%.</p>
            <p *ngIf="data.player.favPitchToday == data.stats.pitching.pitcherChangeupsToday">Throwing Changeup {{data.player.favPitchPercentToday}}%.</p>
            <p *ngIf="data.player.favPitchToday == data.stats.pitching.pitcherCurveballsToday">Throwing Curveball {{data.player.favPitchPercentToday}}%.</p>
            <p *ngIf="data.player.favPitchToday == data.stats.pitching.pitcherCuttersToday">Throwing Cutter {{data.player.favPitchPercentToday}}%.</p>
            <p *ngIf="data.player.favPitchToday == data.stats.pitching.pitcherSlidersToday">Throwing Slider {{data.player.favPitchPercentToday}}%.</p>
            <p *ngIf="data.player.favPitchToday == data.stats.pitching.pitcherSinkersToday">Throwing Sinker {{data.player.favPitchPercentToday}}%.</p>
            <p *ngIf="data.player.favPitchToday == data.stats.pitching.pitcherSplittersToday">Throwing Splitter {{data.player.favPitchPercentToday}}%.</p>
          
          </div>
          <div *ngIf="data.player.pitchSpeedAvgToday != null" class="fav-pitch">
            <p>Avg pitch speed today {{data.player.pitchSpeedAvgToday}}mph</p>
          </div>
          <div *ngIf="data.player.fastestPitchToday != null" class="fav-pitch">
            <p>Top pitch today {{data.player.fastestPitchToday}}mph</p>
          </div>
        </div>
         
      </div> <!-- SCORE BACK OF CARD  -->
      </mat-card>
    </div>
  </div>
  <div *ngIf="gameover === true">
    <hr>
    <h3 class="center">Completed Games</h3>
    <div class="card-wrap-sp mat-elevation-z6 tp-wrap" *ngFor="let data of showData" [class.hide]="data.playingOver === false">
      <mat-card class="tp-box mat-card-sp" [@flipState]="data.flip">
        <div class="ribbon" *ngIf="data.flip === 'inactive'"><span>{{data.team.abbreviation}}</span></div>
        <div class="tp-box__side tp-box__front">
          <div class="content-wrapper">
            <div class="left-content">
              <img src="{{data.player.image}}" alt="baseball player" onError="this.src='http://mlb.mlb.com/images/players/silhouettes/generic_mug@2x.png'">
            </div>
            <div class="right-content">
              <p>
                <span *ngIf="data.player.IsRookie == 'true'" style="background:#2ecc71; color:#fff; padding:1px; border-radius:2px;">Rookie</span>
                <br>
                <span *ngIf="data.player.age != null"> Age: {{data.player.age}} Height: {{data.player.height}} Weight: {{data.player.weight}}</span>
                <br> <span *ngIf="data.player.city != null">Born: {{data.player.birthDate | date: 'shortDate'}} <span *ngIf="data.player.country === 'USA'">{{data.player.city}}</span><span *ngIf="data.player.country != 'USA'">{{data.player.country}}</span></span>
                <br> Opponent: <span *ngIf="data.team.opponent;then content else other_content"></span>
                <ng-template #content>{{data.team.opponent}}</ng-template>
                <ng-template #other_content>No game today.</ng-template>
                <br>SP Opponent: {{data.player.pitchingOpponent}}
                <span *ngIf="data.team.opponent"><br>Game: {{data.player.gameTime | date: 'shortTime'}} EST, {{data.team.gameField}} </span>
               <!--  <br> in progress: {{data.playingRightNow}}
                <br> game over: {{data.playingOver}} -->
                <!-- <br> game id: {{data.gameId}}           </p> -->
            </div>
          </div>
          <div class="bottom-content">
            <!-- <img src="./assets/mlb-logos/{{data.team.id}}.png" alt="mlb team logo"> -->
            <p class="name-number">{{ data.player.firstName + ' ' + data.player.lastName}}<span *ngIf="data.player.throws != null"> - {{data.player.throws}}</span> - SP | #{{data.player.jerseyNumber}}</p>
            <p class="name-number">
              <b>W-L:</b> {{ data.stats.pitching.wins +'-'+ data.stats.pitching.losses }} / <b>ERA:</b> {{ data.stats.pitching.earnedRunAvg }} /
              <b>K's:</b> {{ data.stats.pitching.pitcherStrikeouts }}
            </p>
            <div class="fav-pitch" *ngIf="data.player.winToday == '0' && data.player.loseToday == '0'">
              <p>{{ data.player.firstName + ' ' + data.player.lastName}} got a no-decision today!</p>
              <br>
              <a class="more-stats-btn" (click)="getGameStats(data)">MORE STATS</a>
            </div>
            <div class="fav-pitch" *ngIf="data.player.winToday == '1'">
              <p>{{ data.player.firstName + ' ' + data.player.lastName}} got a Win today!</p>
              <br>
              <a class="more-stats-btn" (click)="getGameStats(data)">MORE STATS</a>
            </div>
            <div class="fav-pitch" *ngIf="data.player.loseToday == '1'">
              <p>{{ data.player.firstName + ' ' + data.player.lastName}} Lost today!</p>
              <br>
              <a class="more-stats-btn" (click)="getGameStats(data)">MORE STATS</a>
            </div>
            <div class="fav-pitch" *ngIf="data.player.saveToday == '1'">
              <p>{{ data.player.firstName + ' ' + data.player.lastName}} got a Save today!</p>
              <br>
              <a class="more-stats-btn" (click)="getGameStats(data)">MORE STATS</a>
            </div>
            <div *ngIf="data.player.favPitchPercent != null" class="fav-pitch">
              <p *ngIf="data.player.favPitch == data.stats.pitching.pitcher2SeamFastballs">Throws 2-Seam Fastball {{data.player.favPitchPercent}}%</p>
              <p *ngIf="data.player.favPitch == data.stats.pitching.pitcher4SeamFastballs">Throws 4-Seam Fastball {{data.player.favPitchPercent}}%</p>
              <p *ngIf="data.player.favPitch == data.stats.pitching.pitcherChangeups">Throws Changeup {{data.player.favPitchPercent}}%</p>
              <p *ngIf="data.player.favPitch == data.stats.pitching.pitcherCurveballs">Throws Curveball {{data.player.favPitchPercent}}%</p>
              <p *ngIf="data.player.favPitch == data.stats.pitching.pitcherCutters">Throws Cutter {{data.player.favPitchPercent}}%</p>
              <p *ngIf="data.player.favPitch == data.stats.pitching.pitcherSliders">Throws Slider {{data.player.favPitchPercent}}%</p>
              <p *ngIf="data.player.favPitch == data.stats.pitching.pitcherSinkers">Throws Sinker {{data.player.favPitchPercent}}%</p>
              <p *ngIf="data.player.favPitch == data.stats.pitching.pitcherSplitters">Throws Splitter {{data.player.favPitchPercent}}%</p>
            </div>
            <div *ngIf="data.player.pitchSpeedAvg != null" class="fav-pitch">
              <p>Avg pitch speed {{data.player.pitchSpeedAvg}}mph</p>
            </div>
             <div *ngIf="data.player.pitchSpeedAvg == null" class="fav-pitch">
            <p>Avg pitch speed not known</p>
          </div>
            <div *ngIf="data.player.fastestPitch != null" class="fav-pitch">
              <p>Top pitch speed {{data.player.fastestPitch}}mph</p>
            </div>
            <div *ngIf="data.player.fastestPitch == null" class="fav-pitch">
              <p>Top pitch speed not known</p>
            </div>
          </div>
        </div>
        <!-- FRONT OF CARD -->
       <!-- SCORE BACK OF CARD -->
      <div class="tp-box__side tp-box__back">
          <div class="content-wrapper">
          <div class="left-content">
            <img src="{{data.player.image}}" alt="baseball player" onError="this.src='http://mlb.mlb.com/images/players/silhouettes/generic_mug@2x.png'">
          </div>
          <div class="right-content">
            <p>
              <span *ngIf="data.player.IsRookie == 'true'" style="background:#2ecc71; color:#fff; padding:1px; border-radius:2px;">Rookie</span>
              <span *ngIf="data.player.contractStartYear === '2018' && data.player.contractTotalYears === '1'" style="background:#2ecc71; color:#fff; padding:1px; border-radius:2px;">Contract Year<br></span>
              <span *ngIf="data.player.contractBaseSalary != ''">Contract Salary: ${{data.player.contractBaseSalary | number:'.2'}} <br></span>
              <span *ngIf="data.player.contractTotalYears != ''">Contract Years:  {{data.player.contractTotalYears}}<br></span> 
              <span *ngIf="data.player.DraftYear != ''">Drafted: Round {{data.player.DraftRound}}, {{data.player.DraftYear}}<br></span>
              <span *ngIf="data.player.college != ''">College: {{data.player.college}}<br></span> 
              <span *ngIf="data.player.highschool != ''">Highschool: {{data.player.highschool}} <br></span>
              Opponent: <span *ngIf="data.team.opponent;then content else other_content"></span>
              <ng-template #content>{{data.team.opponent}}</ng-template>
              <ng-template #other_content>No game today.</ng-template>
              <br>SP Opponent: {{data.player.pitchingOpponent}}
              <span *ngIf="data.team.opponent"><br>Game: {{data.player.gameTime | date: 'shortTime'}} EST, {{data.team.gameField}} </span>
              <!-- <br> in progress: {{data.playingRightNow}} -->
              <!-- <br> game over: {{data.playingOver}} -->
              <!-- <br> game id: {{data.gameId}} -->
            </p>
          </div>
        </div>
        <div class="bottom-content">
          <!-- <img src="./assets/mlb-logos/{{data.team.id}}.png" alt="mlb team logo"> -->
          <p class="name-number">{{ data.player.firstName + ' ' + data.player.lastName}}<span *ngIf="data.player.throws != null"> - {{data.player.throws}}</span> - SP | #{{data.player.jerseyNumber}}</p>
          <p class="name-number">
            <span  *ngIf="data.player.winToday === '1'"><b>W</b></span>
            <span  *ngIf="data.player.loseToday === '1'"><b>L</b></span>
            
            / <b>ERA:</b> {{ data.player.eraToday }} /
            <b>K's:</b> {{ data.player.strikeoutsToday }}
            <br>
            <a class="more-stats-btn" (click)="flipBack(data)">GO BACK</a>
          </p>
         <!--  <div class="fav-pitch live-stats-block">
            <p>score, inning top bottom, whos on base, no decision stuff...</p>
          </div> -->
          <div *ngIf="data.player.favPitchPercentToday != null" class="fav-pitch">
            <p *ngIf="data.player.favPitchToday == data.stats.pitching.pitcher2SeamFastballsToday">Throwing 2-Seam Fastball {{data.player.favPitchPercentToday}}%.</p>
            <p *ngIf="data.player.favPitchToday == data.stats.pitching.pitcher4SeamFastballsToday">Throwing 4-Seam Fastball {{data.player.favPitchPercentToday}}%.</p>
            <p *ngIf="data.player.favPitchToday == data.stats.pitching.pitcherChangeupsToday">Throwing Changeup {{data.player.favPitchPercentToday}}%.</p>
            <p *ngIf="data.player.favPitchToday == data.stats.pitching.pitcherCurveballsToday">Throwing Curveball {{data.player.favPitchPercentToday}}%.</p>
            <p *ngIf="data.player.favPitchToday == data.stats.pitching.pitcherCuttersToday">Throwing Cutter {{data.player.favPitchPercentToday}}%.</p>
            <p *ngIf="data.player.favPitchToday == data.stats.pitching.pitcherSlidersToday">Throwing Slider {{data.player.favPitchPercentToday}}%.</p>
            <p *ngIf="data.player.favPitchToday == data.stats.pitching.pitcherSinkersToday">Throwing Sinker {{data.player.favPitchPercentToday}}%.</p>
            <p *ngIf="data.player.favPitchToday == data.stats.pitching.pitcherSplittersToday">Throwing Splitter {{data.player.favPitchPercentToday}}%.</p>
          </div>
          <div *ngIf="data.player.pitchSpeedAvgToday != null" class="fav-pitch">
            <p>Avg pitch speed today {{data.player.pitchSpeedAvgToday}}mph</p>
          </div>
          <div *ngIf="data.player.fastestPitchToday != null" class="fav-pitch">
            <p>Top pitch today {{data.player.fastestPitchToday}}mph</p>
          </div>
        </div>
         
      </div> <!-- SCORE BACK OF CARD  -->
      </mat-card>
    </div>
  </div>
</div>
